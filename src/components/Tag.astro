---
import Link from "@/components/Link.astro"

import { cn } from "@/utils/style"

interface Props {
  href?: string
  icon?: string
  color?: "neutral" | "amber" | "rose"
  class?: string
}

const { href, icon, color = "neutral", class: className } = Astro.props

const Component = href ? Link : "span"
const colorClassName: Record<NonNullable<Props["color"]>, string> = {
  neutral: "border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900 text-neutral-500!",
  amber: "border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-950 text-amber-500!",
  rose: "border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-950 text-rose-500!",
}
---

<Component
  href={href}
  class={cn(
    "inline-block px-1 py-px border text-sm transition-colors",
    href && "hover:border-blue-200 dark:hover:border-blue-800 hover:bg-blue-50 dark:hover:bg-blue-950 hover:text-blue-500!",
    colorClassName[color],
    className,
  )}
>
  {icon && <span class={cn(icon, "mr-1")} />}
  <slot />
</Component>
