---
import Link from "@/components/Link.astro"

import { cn } from "@/utils/style"

interface Props {
  href?: string
  icon?: string
  color?: "neutral" | "amber" | "rose"
  class?: string
}

const { href, icon, color = "neutral", class: className } = Astro.props

const Component = href ? Link : "span"
const colorClassName: Record<NonNullable<Props["color"]>, string> = {
  neutral: "border-neutral-200 dark:border-neutral-700 text-neutral-500! dark:text-neutral-400!",
  amber: "border-amber-200 dark:border-amber-700 bg-amber-50 dark:bg-amber-900 text-amber-500! dark:text-amber-400!",
  rose: "border-rose-200 dark:border-rose-700 bg-rose-50 dark:bg-rose-900 text-rose-500! dark:text-rose-400!",
}
---

<Component
  href={href}
  class={cn(
    "inline-block px-1 py-px border text-sm transition-colors",
    href && "hover:border-sky-200 dark:hover:border-blue-600 hover:bg-sky-50 dark:hover:bg-blue-900 hover:text-sky-500! dark:hover:text-blue-400!",
    colorClassName[color],
    className,
  )}
>
  {icon && <span class={cn(icon, "mr-1")} />}
  <slot />
</Component>
