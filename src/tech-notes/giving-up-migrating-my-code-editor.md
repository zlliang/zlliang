---
emoji: 🥲
title: 一次无事生非的工具切换尝试
created: 2023-12-14
summary: 又名：我永远爱命令行和 VS Code
---

昨天下午，我下载了 WebStorm 和 [JetBrains 的一系列 IDE](https://www.jetbrains.com/)，想整一出“差生文具多”的幺蛾子：把主力编辑器从使用了多年的 VS Code 迁移到 JetBrains。没想到，这成为了我近来心情最差的两天。

这件事最直接的起因，是下午工作时的拖延症，有个任务我拖了好久都没有太大进展，烦得很。我犯病时就爱捣鼓捣鼓工具，仿佛在干正事，实际根本没过脑子。算是，压力下的放松。实际上，我最近对 VS Code 的确有两点不满：

1. 公司中的前端项目使用的是 Vue 2，而我自己平时闲来码着玩儿的时候使用的是 Vue 3。Vue 2 的插件 Vetur 功能有一部分缺失，且已不再维护；Vue 3 的插件 Volar 本身非常优秀，但对 Vue 2 的支持又是一塌糊涂。Vue 是我平日里使用最多的 Web 前端框架，如此体验实在有点令人不爽。
2. 我最近在接触 Ruby 和 Ruby on Rails，发现对这种极为灵活的语言，单靠现有的插件并不能做到很好的 IDE 支持，大部分场景连自动补全和代码跳转都做不到。虽然 Shopify 团队在积极开发一款新的插件，但短期内很难达到类似于 IDE 一般的效果。

于是，一狠心一跺脚，我就把 WebStorm 下了下来。其实之前也想过切换，但是每每看到那臃肿混乱的界面和复杂的配置项，就作罢了。最近 JetBrains 的系列 IDE 都更新为了[新版 UI](https://www.jetbrains.com/zh-cn/idea/new-ui/)，清爽了非常多，所以我再次动了“邪念”。

一眼看上去，JetBrains 的新版 UI 的确很吸引人，甚至比 VS Code 还要简洁，并且布局逻辑合理，面版和工具栏位置一一对应，明显是经过周密设计的。最主要的，还是 IDE 提供的代码分析能力，极为强大。它使用的不是当今通用的开源 LSP 方案，而是私有的分析引擎，别的编辑器能做到的它不在话下，别的编辑器触及不到的它也能给你分析出来。定义跳转、类型分析、自动补全，无需逐个配置，它指哪打哪，简直像个全能保姆。我相信，如果是一个熟练的使用者，切换到别的编辑器，一定会非常不适应。

强大的工具集成也是 IDE 的一个巨大优势。脚本管理、数据库管理、版本控制管理，这些都集成在各个面板中，一站式使用起来非常方便。说实话，当今的程序设计工作并不仅仅是写代码。我们有时需要把单元测试挂在后台随着代码的改动一遍遍地跑，有时需要连接到数据库查表写 SQL，其实大部分工作都是这些代码之外的东西。一般来说，这些工具都散落在命令行或单独的 app 当中，而 IDE 提供了集成化的图形界面，让这一切操作都变为了同一个软件内的“点点点”，并且还有各类图标供咱识别，的确是一件美事儿。

在刚开始使用的一小会儿，许久没用过 IDE 的我也被此震撼了。但是仅仅半个小时后，我就发现了不对劲……

首先，是软件自身的配置功能。我使用工具时，首先想的就是要把各类样式、约定，比如配色方案、字体和代码缩进搞得尽量一致；但是在配置 JetBrains 时，我屡屡闪回多年前在学校中使用 MATLAB 的时光，历经千辛万苦才能把整个工作区调整成我想要的样子：

1. 默认的配色方案中包含了斜体字。我想要去掉，却需要在配色详细设置中按照高亮类型一一查找。
2. 缩进也一样，全局设置缩进长度为 2 简直难如登天，需要对每种文件类型做单独调整。
3. 更可气的是 IDE 间的配置同步也是毫无可用性可言。比如，就因为 GoLand 比 WebStorm 多出了对 Go 的支持，那么就需要对 Go 的斜体和缩进在这个 IDE 里再设置一遍。更何况，工作区布局的调整、inlay hints 的调整，是没办法原样同步的。

我开始在心里暗暗骂娘。对这种来自上一世代的交互，我有一种天然的厌恶。

其中，最令人不解的一点，是 JetBrains 将对不同语言的支持都出品为单独的 IDE，大概是出于商业分发的考量吧。然而，它们在基本功能上又完全相同，只是针对每种语言的具体场景做了优化。本来一个软件能做成的事情，被拆分成了好几个软件，让人看着不爽。

对 Markdown 的支持也是一大槽点。首先，自定义样式的功能非常原始，需要将 CSS 文件贴进设置框，并且仅能对当前项目生效。其次，预览功能性能颇差，连左右同步滚动这样最基本的功能都非常卡顿。回到 VS Code 中轻便无比的预览样貌，简直舒服至极，写作欲望都有所提高……

几经辗转，我终于把界面基本调整成了我想要的样子，并且几个 IDE 之间也基本一致了。接下来，我想试试用它处理一项工作。我需要找到想要切出的分支，改完代码后，再切回原分支，并合并我刚刚有修改的分支。这让我发现，使用图形化界面来操作 Git 简直是灾难。在命令行中，这一操作线性流畅，基本只需要键盘操作（程序员最爱键盘操作），但是在 IDE 中，分支列表、代码修改和合并提交分别放在三个面板当中，我需要左点右点才能完成，活像在玩杂技。

可以说，IDE 是把简单的事情复杂化了，像这类 Git 功能，实际上是在命令行界面上包装了一层，希望让用户“一目了然”；但我的脑子里还是 push、pull、merge 等一系列命令行概念，而且这些概念即使是使用图形界面也是必须要了解的。IDE 仿佛把工具和人用一到名叫图形界面的墙给区隔开，告诉你：在我这里，这样使用更简单，请你这样使用。

所以，集成化程度过高，实际上导致我做任何事，都要考虑 IDE 要求我怎么做。在这里，工具是高高在上的领袖，而我是奴仆，我需要好好听他的话，才能在他的世界里稍显自如。对 NPM、Git 的支持非常完善没错，但是这也意味着必须按照 IDE 的操作逻辑，用鼠标上下左右、点来点去。相比原生的命令行界面，看似便捷可视，实则增添了不少阻碍。

这时，我忽然想起我最初为何使用简单代码编辑器，而不是 IDE。IDE总是用不同颜色的波浪线和惊叹号告诉你“这里写的有问题”；总是用自作聪明的 inlay hints 告诉你“我还能帮你知道这些”；用极为精巧的集成化界面告诉你“我这里有一站式的解决方案”。但实际上，对于编码工作来说，这些都是噪声。编辑器需要做好的是对代码的基本分析，具体来说就是语法高亮、定义跳转和自动补全，再加上强劲的搜索。至于其他的，就相信程序员自身的判断就好。

这也是 UNIX 哲学的又一例证：一件工具只需做好一件事。工具的组合会带来极大的灵活性，让我们自己决定要使用怎样的流程去工作。命令行工具使用最为易用的语言相互通讯：纯文本。在一行又一行的命令中，我们的思维是线性的，工作是顺畅的，并且任由数据在工具间自由流转、变形。这样，即使有一天其中有一个工具不再被维护了，我们也可以切换上替代品，或者干脆自己写一个。使用这种工具，亦是“高内聚、低耦合”的实践。

反观 IDE，它总是将不同的工具整合到一处，逼着我们用同一套逻辑（并且是私有的逻辑）处理每一项工作。并且，对工具的支持不是来自工具，而是要依赖中间层，也就是 IDE。工具的很多新的特性、功能，需要 IDE 更新了以后我们再能继续“一站式”地使用。试问，如果 Git 某天不再是版本管理的主流方案，那么我们是不是得等 IDE 再次更新了才能使用新的方案？

终于，这次折腾在一天后以失败告终，我还是回到了命令行和 VS Code 的怀抱，它们是程序员最好的朋友，它们信任我，给我足够的自由。我们的效率并不来自于那些丰富的分析功能和 inlay hint，还有无比烦人的波浪线，那只会拖累我们。相反，用最纯粹的、最务实的工具来认真阅读、撰写代码，找到属于自己的工作流程，才是提高编码幸福度的不二法门。

::: info 参考

- [VS Code 官网](https://code.visualstudio.com/)
- [JetBrains 官网](https://www.jetbrains.com/)
- [维基百科：Unix 哲学](https://en.wikipedia.org/wiki/Unix_philosophy)

:::
