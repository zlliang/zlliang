---
emoji: 🪫
title: 编程中的性能损耗（Overhead）
created: 2023-12-02
summary: 唯一没有 overhead 的，是机器代码。
---

唯一没有 overhead 的是机器代码。操作系统的虚拟内存模型是 overhead，C 语言未优化的编译是 overhead，Java 和 Go 的运行时是 overhead，JavaScript 这样的解释型语言自不必说，overhead 满满。

Overhead 不是坏事，它们是有意的、为了工程性而作出的性能妥协。当今硬件的计算资源不再是稀缺资源，因此为了开发便利、部署和维护简单、开发人员之间能够顺畅沟通，开发者们逐渐使用更高级的工具，并引入必然的性能损耗。这是一种资源的交换罢了，因此，一味追求所谓性能，不过是没有搞清楚这个妥协的平衡点。

为了代码可读性，工程中的代码会有各种各样的架构出现，并且越发复杂的业务越需要将各种职责分层处理，因此必然会引入长长的函数调用栈。这是将团队内的标准实践总结进代码当中，会引入性能损耗，但是节省了团队的沟通成本，降低了代码未来的维护成本。

而一个领域所有团队的共识，最终会进入社区变成领域内的标准流程。比如垃圾回收，无数开发者受益于带有垃圾回收功能的语言，免于手动管理内存的苦恼，代价则是必然会出现的 overhead。高级语言运行时、解释型语言的解释器，莫不如是。
