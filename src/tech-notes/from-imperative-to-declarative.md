---
emoji: 🤔
title: 从命令式（Imperative）到声明式（Declarative）
created: 2023-12-02
summary: 这种演化倾向，可以视为将经过验证的最佳实践加以封装、隐藏的过程。
---

API 的演化有一种从命令式到声明式的倾向。比如编写 UI 的 HTML、JSX、Flutter 和 SwiftUI，比如数据库查询从手写逻辑到声明 SQL 语句，再比如从脚本运维到作为 Kubernetes 核心的声明式 API。这种范式的转换就是所谓 Infrastructure as Data (IaD) 的思想。

这种演化倾向，在我看来可以视为<strong>将经过验证的最佳实践加以封装、隐藏的过程</strong>；API 进化为了成熟的声明式，代表着标准化，代表着一个问题被实质性解决，其内部实现成为了新一代开发者的共识。

如果拿这个视角看待编程语言的演化，也会发现：新诞生的语言往往将经过实践验证的特性内置化，比如 Java 的面向对象、Go 语言的并发原语、Rust 语言的错误处理等。内置这些语言特性的过程，也是将最新的开发理念“声明式化”的过程。

就拿我所熟悉的 Web 前端技术为出发点去看。Web 前端发展至今，已经是一门极其复杂的技术：依赖管理、打包、JSX、代码检查、类型检查，各种 CSS-in-JS 技术……你只要看每个前端项目根目录的一众 config 文件便可知了。

这时候可能是一门新语言出现的最好时机，将所有这些最佳实践包含在内。Deno 和 Bun 做的都不算彻底，因为他们还是在写 JS/TS，只是把工具集成在了一起。当然，他们是要尽量贴近业已成熟的社区和前端技术链。

然而，Web 前端如今的复杂，已经是思维层面的，而不是工具层面的：React 在尽力模拟函数式 UI 编程，Vue 在响应式更新 DOM 上用力颇深，而他们共同依赖的 JavaScript 并不是实现函数式或响应式的最佳语言。只因：<strong>语言即思维</strong>。若想使用一种编程思维，那么必然需要一门 native 于这种思维的语言才好。

不如暂且抛下社区的事，天马行空想一想，这样的语言该是什么样？是不是能从 SwiftUI 和 Flutter 中吸取些经验？毕竟，他们已经是 UI 开发发展到一定程度才被发明出的框架，本身就带有了一定新式 UI 思维的要素。
