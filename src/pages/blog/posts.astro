---
import Layout from "@/components/Layout.astro"
import PageTitle from "@/components/PageTitle.astro"
import EntryList from "@/components/EntryList.astro"

import { getEntries } from "@/content"

const entries = await getEntries()
const posts = entries.filter(entry => entry.data.type === "post")

const title = "Posts"
---

<Layout title={title} description={title}>
  <!-- Title -->
  <PageTitle>
    <Fragment>{title}</Fragment>
    <Fragment slot="subtitle">{posts.length} in total</Fragment>
  </PageTitle>

  <!-- Entries -->
  <EntryList entries={posts} />
</Layout>
