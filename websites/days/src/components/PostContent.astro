---
import { render } from "astro:content"
import { format } from "date-fns"

import PageTitle from "@/components/PageTitle.astro"

import type { CollectionEntry } from "astro:content"

interface Props {
  post: CollectionEntry<"posts">  
}

const { post } = Astro.props
const { Content } = await render(post)
---

<div class="post-content">
  <!-- Title -->
  <PageTitle>
    <Fragment>{post.data.title}</Fragment>
    <Fragment slot="subtitle">
      <span>{format(post.data.created, "yyyy 年 M 月 d 日")}</span>
      {post.data.draft && <span class="ml-1 text-amber-600 dark:text-amber-400">草稿</span>}
    </Fragment>
  </PageTitle>

  <!-- Content -->
  <div class="mb-4">
    <Content />
  </div>
</div>
